# Example of Aista Deployment

## Turn a Sentiment Analysis Model into an API

### Preparation
This folder, *developer upload sample 20201212*, contains all the files that need to be uploaded to Aista for the deployment.

In principle, there need a main Python script (say mainScript.py) which contains a main class (say Model) which contains a main function (say main). Given an input, the main function returns an output. 

That is, with these prepared, you should be able to do the following in Python

```
Import Model from mainScript
model = Model()
output = model.main(input)
```

### Explaination of documents

* *mainScritp.py* is the main script that process the input and call the model objects to give the output.
* *clf.pickle* and *vectorizer.pickle* are the model objects. 
* *requirements.txt* are packages will be installed in virtual environment on Aista. For this model, select python 3.6 when you upload the file.

### Aista Deployment
Upload the files in the folder, *developer upload sample 20201212*, through Aista API Upload portal.

### Testing
After the deployment, you can use the following example in python to call the API. Here YourKey is provided by Aista to you. URLgeneratedAfterDeployments will be generated by Aista after the deployment.

```
  import requests 
  url = URLgeneratedAfterDeployments
  input = 'food is great'
  r = requests.post(url, json=input, headers={'X-API-KEY': <YourKey>})
  Item print(r.json())
```
You can also play with the Aista testing portal.

### Debugging
If anything goes wrong, Aista record them in logs by which you can debug, edit and easily redeploy the updates without going through the whole thing again.

### About training the model
If you are interested in, the training of them can be found here:
[Jupyter - Star Prediction](https://github.com/deenaariff/Starly/blob/master/jupyter-notebook/Integrated%20Master%20File_v8.ipynb/)
		
More information about training the setiment model is here:
[Star Prediction](https://medium.com/@aariff.deen/creating-a-real-time-star-prediction-application-for-yelp-reviews-using-sentiment-analysis-9c7e94978bf6.)
   
